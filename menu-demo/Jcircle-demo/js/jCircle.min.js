!function(){function a(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function b(a,b){if(a.style[b])return a.style[b];if(a.currentStyle)return a.currentStyle[b];if(document.defaultView&&document.defaultView.getComputedStyle){var c=document.defaultView.getComputedStyle(a,"");return c&&c.getPropertyValue(b)}return null}function c(){var a=this.options.circle,c=this.options.container,d=this.options.circleNumber,e=this.options.mainContent,f=this.options.contentType,g=this;if(d>0){var h=parseFloat(b(a,"width"))/2-2,i=2*Math.PI/d,j=i*h,k=(j-.1*j)/2;parseFloat(b(a,"width"))-k;if(c.style.margin=2*k+"px auto",a.style.height=parseFloat(b(a,"width"))+"px",c.style.height=parseFloat(b(a,"width"))+200+"px",e.style.width=parseFloat(b(a,"width"))+"px",e.style.height=parseFloat(b(a,"width"))+"px","images"==this.options.contentType){e.innerHTML="";var m=document.createElement("img"),n=document.createElement("div");n.className="caption",e.appendChild(m),e.appendChild(n)}for(var o,p=0;p<d;p++){o=this.options.minCircles[p];var q=i*p,r=(h+1.4*k)*Math.cos(q),s=(h+1.4*k)*Math.sin(q),t=h-k-r,u=h-k-s;o.style.right=t+"px",o.style.top=u+"px",o.style.width=2*k+"px",o.style.height=2*k+"px",o.getElementsByTagName("a")[0].addEventListener("click",function(a){a.preventDefault(),"images"==f?(m.setAttribute("src",this.getAttribute("href")),this.parentNode.getElementsByTagName("div")[0]&&(n=this.parentNode.getElementsByTagName("div")[0].innerHTML)):"text"==f&&(e.innerHTML=this.parentNode.getElementsByTagName("div")[0].innerHTML)}),g.options.stopOnOverMain&&(e.addEventListener("mouseover",function(){"play"==g.options.animateStatus&&(g.options.animateStatus="pause")}),e.addEventListener("mouseout",function(){"pause"==g.options.animateStatus&&(g.options.animateStatus="play")}))}return"images"==this.options.contentType?(e.getElementsByTagName("img")[0].setAttribute("src",a.getElementsByTagName("div")[0].getElementsByTagName("a")[0].getAttribute("href")),a.getElementsByTagName("div")[0].getElementsByTagName("div")[0]&&(n.innerHTML=a.getElementsByTagName("div")[0].getElementsByTagName("div")[0].innerHTML)):"text"==this.options.contentType&&(e.innerHTML=a.getElementsByTagName("div")[0].getElementsByTagName("div")[0].innerHTML),g}return null}function d(a,c){if(a.options.animateCircles&&"pause"!=a.options.animateStatus){var e=(a.options.circle,a.options.minCircles);switch(c){case"rotateAround":for(var f=0,g=b(e[0],"top"),h=b(e[0],"right"),i=0;i<a.options.circleNumber;i++){var j=i+1;i==a.options.circleNumber-1?(e[i].style.top=g,e[i].style.right=h):(e[i].style.top=b(e[j],"top"),e[i].style.right=b(e[j],"right")),parseInt(b(e[i],"right"))<=parseInt(b(e[f],"right"))&&(f=i)}"images"==a.options.contentType&&(a.options.mainContent.getElementsByTagName("img")[0].setAttribute("src",e[f].getElementsByTagName("a")[0].getAttribute("href")),e[f].getElementsByTagName("div")[0]&&(a.options.mainContent.getElementsByTagName("div")[0].innerHTML=e[f].getElementsByTagName("div")[0].innerHTML)),"text"==a.options.contentType&&(a.options.mainContent.innerHTML=e[f].getElementsByTagName("div")[0].innerHTML)}}}this.jCircle=function(){var b={container:"circles-container",circle:"circle",mainContent:"main-circle-content",minCirclesClass:"min-circle",minCircles:[],mainViewStyle:"normal",animateCircles:!0,animateType:"rotateAround",animateStatus:"play",speed:3,stopOnOverMain:!0,stopOnOverMini:!0,minCirclesEffectOver:"none",contentType:"images",mainContentOverAction:"normal"};arguments[0]&&"object"==typeof arguments[0]?this.options=a(b,arguments[0]):this.options=b,this.options.container=document.getElementById(this.options.container),this.options.circle=document.getElementById(this.options.circle),this.options.mainContent=document.getElementById(this.options.mainContent),this.options.container.className=this.options.container.className+" circles-container",this.options.circle.className=this.options.circle.className+" circle",this.options.mainContent.className=this.options.mainContent.className+" main-circle-content","enlarge-view"==this.options.mainViewStyle&&(this.options.mainContent.className=this.options.mainContent.className+" enlarge-view");for(var c=this.options.circle.getElementsByTagName("div"),e=0,f=0;f<c.length;f++)"min-circle"==c[f].getAttribute("data-inside")&&(this.options.minCircles[e]=c[f],e++);if(this.options.circleNumber=this.options.minCircles.length,"text"==this.options.contentType&&(this.options.mainContentOverAction="enlarge-view"),"enlarge-view"===this.options.mainContentOverAction&&(this.options.mainContent.className=this.options.mainContent.className+" enlarge-main-circle-content"),this.options.animateCircles){var g=this,h=["rotateAround","rotateSelf","fade"];for(var i in h)if(this.options.animateType==h[i]){var j;if(j=setInterval(d,1e3*g.options.speed,this,h[i]),g.options.stopOnOverMini)for(var f=0;f<this.options.circleNumber;f++)this.options.minCircles[f].addEventListener("mouseover",function(){g.options.animateStatus="pause"}),this.options.minCircles[f].addEventListener("mouseout",function(){g.options.animateStatus="play"});break}}if("none"!=this.options.minCirclesEffectOver){var k=["pulse","zoomOutIn","flip","rotate"];for(var i in k)if(this.options.minCirclesEffectOver==k[i])for(var l=this.options.minCircles,f=0;f<l.length;f++)l[f].className=l[f].className+" "+k[i]}},jCircle.prototype.create=function(){var a=this;c.call(a),window.addEventListener("resize",function(){c.call(a)})}}();